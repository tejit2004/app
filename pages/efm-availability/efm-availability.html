<!--
  Generated template for the EfmAvailabilityPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar primary>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>EFM Availability</ion-title>
  <ion-buttons [ngClass]="EFMavailabilityResult?'showcontent':'hidecontent'" end>
      <button (click)="EnableSearch()">
          <ion-icon name="funnel"></ion-icon>
      </button>
  </ion-buttons>
</ion-navbar>

<ion-content padding class="efm-availability">
  <form [ngFormModel]="efmForm" (ngSubmit)="onSubmit(efmForm.value)" [ngClass]="EFMavailabilityResult?'hidecontent':'showcontent'">
      <ion-item [class.error]="!efm_telephone.valid && efm_telephone.touched">
          <ion-input placeholder="Telephone Number/CLI" [ngFormControl]="efm_telephone"></ion-input>
      </ion-item>
      <ion-item>
          OR
      </ion-item>
      <ion-item [class.error]="!efm_postcode.valid && efm_postcode.touched">
          <ion-input placeholder="Postcode" [ngFormControl]="efm_postcode"></ion-input>
      </ion-item>
      <br/><br/>
      <button type="submit" class="custom-button" [disabled]="!efm_postcode.valid && !efm_telephone.valid" block>Submit</button>
  </form>

  <ion-card [ngClass]="EFMavailabilityResult?'showcontent':'hidecontent'">
    <ion-card-header>
      EFM Availability
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Input</ion-col>
        <ion-col width-50>{{results.input}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>LeadTime</ion-col>
        <ion-col width-50>{{results.LeadTime}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>2-pair Indicative Speed</ion-col>
        <ion-col width-50>{{results.twopairSpeed}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>4-pair Indicative Speed</ion-col>
        <ion-col width-50>{{results.fourpairSpeed}}</ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>
