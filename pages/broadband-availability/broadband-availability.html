<!--
  Generated template for the BroadbandAvailabilityPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar primary>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Broadband Availability</ion-title>
  <ion-buttons [ngClass]="availabilityResult?'showcontent':'hidecontent'" end>
      <button (click)="EnableSearch()">
          <ion-icon name="funnel"></ion-icon>
      </button>
  </ion-buttons>
</ion-navbar>

<ion-content padding class="broadband-availability">
  <form [ngFormModel]="broadbandForm" (ngSubmit)="onSubmit(broadbandForm.value)" [ngClass]="availabilityResult?'hidecontent':'showcontent'">
      <ion-item [class.error]="!telephone.valid && telephone.touched">
          <ion-input placeholder="Telephone Number/CLI" [ngFormControl]="telephone"></ion-input>
      </ion-item>

      <ion-item>
        OR
      </ion-item>
      <ion-item [class.error]="!postcode.valid && postcode.touched">
          <ion-input placeholder="Postcode" [ngFormControl]="postcode"></ion-input>
      </ion-item>
      <br/><br/>
      <button type="submit" class="custom-button" [disabled]="!postcode.valid && !telephone.valid" block>Submit</button>
  </form>

  <div [ngClass]="availabilityResult?'showcontent':'hidecontent'">
  <ion-card>
    <ion-card-header>
      Exchange Data
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Input</ion-col>
        <ion-col width-50>{{results.input}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>Name</ion-col>
        <ion-col width-50>{{results.exchange_name}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>Code</ion-col>
        <ion-col width-50>{{results.exchange_code}}</ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      Cerberus FTTC
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Availability</ion-col>
        <ion-col width-50>{{results.FTTC_availability}}</ion-col>
      </ion-row>
      <div [ngClass]="FTTCAvailable?'showcontent':'hidecontent'">
        <div [ngClass]="waitingList?'hidecontent':'showcontent'">
          <ion-row>
            <ion-col width-50>Download</ion-col>
            <ion-col width-50>{{results.FTTC_down}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col width-50>Upload</ion-col>
            <ion-col width-50>{{results.FTTC_up}}</ion-col>
          </ion-row>
          <ion-row [ngClass]="Exchange?'showcontent':'hidecontent'">
            <ion-col width-50>Exchange State</ion-col>
            <ion-col width-50>{{results.FTTC_Exchange}}</ion-col>
          </ion-row>
          <ion-row [ngClass]="Exchange?'showcontent':'hidecontent'">
            <ion-col width-50>Ready Date</ion-col>
            <ion-col width-50>{{results.FTTC_ReadyDate}}</ion-col>
          </ion-row>
        </div>
    </div>
    <div  [ngClass]="waitingList?'showcontent':'hidecontent'">
      <ion-row>
        <ion-col width-50>Waiting list</ion-col>
        <ion-col width-50>Yes</ion-col>
      </ion-row>
    </div>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Cerberus LLU FTTC
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Availability</ion-col>
        <ion-col width-50>{{results.LLU_FTTC_Availability}}</ion-col>
      </ion-row>
      <div [ngClass]="MPFAvailable?'showcontent':'hidecontent'">
        <ion-row>
          <ion-col width-50>Download</ion-col>
          <ion-col width-50>{{results.LLU_FTTC_DownSpeed}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-50>Upload</ion-col>
          <ion-col width-50>{{results.LLU_FTTC_UpSpeed}}</ion-col>
        </ion-row>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Cerberus ADSL2+
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Availability</ion-col>
        <ion-col width-50>{{results.WBC_availability}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>Annex M Availability</ion-col>
        <ion-col width-50>{{results.WBC_AnnexM}}</ion-col>
      </ion-row>
      <ion-row [ngClass]="ADSLAvailable?'showcontent':'hidecontent'">
        <ion-col width-50>Download Range</ion-col>
        <ion-col width-50>{{results.WBC_AnnexMRange}}</ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>

  <ion-card [ngClass]="ADSLAvailable?'hidecontent':'showcontent'">
    <ion-card-header>
      Cerberus ADSL MAX
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col width-50>Availability</ion-col>
        <ion-col width-50>{{results.BTResult}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-50>Download Est.</ion-col>
        <ion-col width-50>{{results.adsl_max_speed}}</ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</div>
</ion-content>
