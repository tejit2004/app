<!--
  Generated template for the DomainAvailabilityPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar primary>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Domain Availability</ion-title>
  <ion-buttons [ngClass]="availabilityResult?'showcontent':'hidecontent'" end>
      <button (click)="EnableSearch()">
          <ion-icon name="funnel"></ion-icon>
      </button>
  </ion-buttons>
</ion-navbar>

<ion-content padding class="domain-availability">
  <form [ngFormModel]="domainForm" (ngSubmit)="onSubmit(domainForm.value)" [ngClass]="availabilityResult?'hidecontent':'showcontent'">
      <ion-item [class.error]="!domainName.valid && domainName.touched">
          <ion-input placeholder="Domain (without any suffix)" [ngFormControl]="domainName"></ion-input>
      </ion-item>
      <br/><br/>
      <button type="submit" class="custom-button" [disabled]="!domainName.valid" block>Submit</button>
  </form>

  <div [ngClass]="availabilityResult?'showcontent':'hidecontent'">
    <ion-card *ngFor="#result of results">
      <ion-card-content style="padding:0;">
        <ion-row>
          <ion-col width-67>{{result.domain_name}}</ion-col>
          <ion-col width-33>
            <img src="{{result.image_path}}" style="width:auto;display:inline;">
            &nbsp;{{result.domainAvailability}}
            <ion-icon name="information-circle" isActive="true" (click)="presentError('Information', result.tooltip)" *ngIf="result.display_tooltip"></ion-icon>
          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
